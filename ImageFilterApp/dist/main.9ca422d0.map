{"version":3,"sources":["main.js"],"names":["canvas","document","getElementById","ctx","getContext","img","Image","fileName","downloadBtn","uploadFile","revertBtn","addEventListener","e","target","classList","contains","Caman","brightness","render","contrast","saturation","vibrance","vintage","lomo","clarity","sinCity","crossProcess","pinhole","nostalgia","herMajesty","revert","file","files","reader","FileReader","name","readAsDataURL","src","result","onload","width","height","drawImage","removeAttribute","fileExtension","slice","newFileName","substring","length","download","filename","link","createElement","href","toDataURL","MouseEvent","dispatchEvent"],"mappings":"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","file":"main.9ca422d0.map","sourceRoot":"..","sourcesContent":["\r\n// using CanvasJS\r\nconst canvas = document.getElementById('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\nlet img = new Image();\r\nlet fileName = '';\r\n\r\nconst downloadBtn = document.getElementById('download-btn');\r\nconst uploadFile = document.getElementById('upload-file');\r\nconst revertBtn = document.getElementById('revert-btn');\r\n\r\n// Add filters & effects using event delegation\r\ndocument.addEventListener('click', (e) => {\r\n  if(e.target.classList.contains('filter-btn')) {\r\n    if(e.target.classList.contains('brightness-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.brightness(5).render();\r\n      });\r\n    } else if(e.target.classList.contains('brightness-remove')) {\r\n      Caman('#canvas', img, function() {\r\n        this.brightness(-5).render();\r\n      });\r\n    } else if(e.target.classList.contains('contrast-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.contrast(5).render();\r\n      });\r\n    } else if(e.target.classList.contains('contrast-remove')) {\r\n      Caman('#canvas', img, function() {\r\n        this.contrast(-5).render();\r\n      });\r\n    } else if(e.target.classList.contains('saturation-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.saturation(5).render();\r\n      });\r\n    } else if(e.target.classList.contains('saturation-remove')) {\r\n      Caman('#canvas', img, function() {\r\n        this.saturation(-5).render();\r\n      });\r\n    } else if(e.target.classList.contains('vibrance-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.vibrance(5).render();\r\n      });\r\n    } else if(e.target.classList.contains('vibrance-remove')) {\r\n      Caman('#canvas', img, function() {\r\n        this.vibrance(-5).render();\r\n      });\r\n    } else if(e.target.classList.contains('vintage-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.vintage().render();\r\n      });\r\n    } else if(e.target.classList.contains('lomo-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.lomo().render();\r\n      });\r\n    } else if(e.target.classList.contains('clarity-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.clarity().render();\r\n      });\r\n    } else if(e.target.classList.contains('sincity-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.sinCity().render();\r\n      });\r\n    } else if(e.target.classList.contains('crossprocess-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.crossProcess().render();\r\n      });\r\n    } else if(e.target.classList.contains('pinhole-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.pinhole().render();\r\n      });\r\n    } else if(e.target.classList.contains('nostalgia-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.nostalgia().render();\r\n      });\r\n    } else if(e.target.classList.contains('hermajesty-add')) {\r\n      Caman('#canvas', img, function() {\r\n        this.herMajesty().render();\r\n      });\r\n    } \r\n  }\r\n});\r\n\r\n// Revert Filters\r\nrevertBtn.addEventListener('click', (e) => {\r\n  Caman('#canvas', img, function() {\r\n    this.revert();\r\n  });\r\n});\r\n\r\n\r\n// Upload File LISTENER\r\nuploadFile.addEventListener('change', (e) => {\r\n  // get file\r\n  const file = document.getElementById('upload-file')\r\n  .files[0];\r\n\r\n  // init FileReader\r\n  const reader = new FileReader();\r\n\r\n  if(file) {\r\n    // set file name\r\n    fileName = file.name;\r\n    // read the data as url\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\n  // Add image to canvas\r\n  reader.addEventListener('load', () => {\r\n    // create img\r\n    img = new Image();\r\n    // set src\r\n    img.src = reader.result;\r\n    // on image load, add to canvas\r\n    img.onload = function() {\r\n      canvas.width = img.width;\r\n      canvas.height = img.height;\r\n      ctx.drawImage(img, 0, 0, img.width, img.height);\r\n      canvas.removeAttribute('data-caman-id');\r\n\r\n    }\r\n  }, false);\r\n});\r\n\r\n// DOWNLOAD EVENT\r\ndownloadBtn.addEventListener('click', (e) => {\r\n  // Get file extension\r\n  const fileExtension = fileName.slice(-4);\r\n  // init new file name\r\n  let newFileName;\r\n  // check image file type and append new extension\r\n  if(fileExtension === '.jpg' || fileExtension === '.png') {\r\n    newFileName = fileName.substring(0, fileName.length-4) + '-edited.jpg';\r\n  }\r\n\r\n  // Call download function\r\n  download(canvas, newFileName);\r\n});\r\n\r\n// Download function\r\nfunction download(canvas, filename) {\r\n  // init event\r\n  let e;\r\n  // create link\r\n  const link = document.createElement('a');\r\n  // set props\r\n  link.download = filename;\r\n  link.href = canvas.toDataURL('image/jpeg', 0.8);\r\n  // New mouse event\r\n  e = new MouseEvent('click');\r\n  // Dispatch event\r\n  link.dispatchEvent(e);\r\n}"]}